load(
    "@build_bazel_rules_ios//rules:framework.bzl",
    rules_ios_apple_framework = "apple_framework",
)

rules_ios_apple_framework(
    name = "FooPod",
    srcs = ["Sources/foo.swift", "Sources/foo.m"], # this being mixed seems to be necessary to repro the issue
    platforms = {"ios": "15.0"},
    swift_version = "5.7",
    visibility = ["//visibility:public"],
    link_dynamic = True,
    bundle_id = "com.foo.FooPod", # required if `link_dynamic` is `True`
    infoplists = [{"foo":"bar"}], # required if `link_dynamic` is `True`
    deps = ["//Pods/BarPod/Public:BarPod"],
)
